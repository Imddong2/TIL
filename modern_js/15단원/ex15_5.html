<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>이벤트 리스너 안의 this</title>
    </head>
    <body>
        <script>
            //이벤트 리스너 안의 this는 이벤트가 발생한 요소 객체

            window.onload=function(){
                function Person(name){
                    this.name=name;
                };
                Person.prototype.sayHello=function(){
                    console.log("Hello!"+this.name);
                }
                var person=new Person("Tom");
                var button=document.getElementById("button");
                button.addEventListener("click",person.sayHello,false);
                //this가 원하는 객체를 가리키도록 설정하는 방법

                //bind메서드 사용
                button.addEventListener("click",person.sayHello.bind(person),false);

                //익명함수 안에서 실행
                button.addEventListener("click",function(e){
                    person.sayHello();
                },false);

                /*화살표 함수 사용
                
               window.onload=function(){
                   function Person(name){
                       this.name=name;
                       this.sayHello=()=>{
                           console.log("hello!"+this.name);
                       };
                   }
                   var person=new Person("Tom");
                   var button=document.getElementById("button");
                   button.addEventListener("click",person.sayHello,false);
               }*/

            };
        </script>
       <p>
           <button id="button">버튼</button>
       </p>
    </body>
</html>